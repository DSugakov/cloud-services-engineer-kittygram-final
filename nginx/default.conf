server { listen 80; server_name 127.0.0.1; location /static/ { alias /var/html/static/; } location /media/ { alias /var/html/media/; } location /api/ { proxy_set_header Host $http_host; proxy_pass http://backend:8000; } location /admin/ { proxy_set_header Host $http_host; proxy_pass http://backend:8000; } location / { root /usr/share/nginx/html; index index.html; try_files $uri /index.html; } }
